<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf">
    <h:head>
        <title>D-ACadêmico</title>
        <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css"/>
        <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js" />
        <script type="text/javascript" src="https://trello.com/1/client.js?key=f9e147388c9b6b46bf4e32009f8cf567" />
        <script>
                    var authenticationSuccess = function() { console.log("Successful authentication"); };
                     var authenticationFailure = function() { console.log("Failed authentication"); };
                    var creationSuccess = function (data) {
                    console.log("Card created successfully. Data returned:" + JSON.stringify(data));
                    }
                    var idList;
            function trelloInit() {
            Trello.authorize({
            type: "popup",
                    name: "Getting Started Application",
                    scope: {
                    read: true,
                            write: true },
                    expiration: "never",
                    authenticationSuccess,
                    authenticationFailure
                    });                    
                    var JSON = $.getJSON("http://trello.com/b/3AaBysYW/teste.json", function (data){
                   // idList = data;
                            //alert(idList);
                            alert(data);
                    });
                    var newCard = {name: "New Test Card", desc: "This is the description of ournew card.", pos: "top", idList};
                    Trello.post("/cards", newCard, creationSuccess);
            }

            /*var creationSuccess = function(data) {
             console.log("Card created successfully. Data returned:" + JSON.stringify(data));
             };
             var newCard = {name: "New Test Card", desc: "This is the description of ournew card.", pos: "top", // Place this card at the top of our list idList: myList,
             };
             Trello.post("/cards", newCard, creationSuccess);*/


        </script>
    </h:head>
    <h:body>
        <div class="container">
            <div class="page-header col-md-12">
                <div class="col-md-3">
                    <img src="imagens/logo.png"></img>
                </div>
                <div class="col-md-6">
                    <h2>Bem-Vindo #{professorSessionManager.professor.nomeCompleto}!</h2>
                </div>
                <div style="float:right">
                    <h:form>
                        <button class="btn-info btn" jsf:action="#{professorSessionManager.logout()}">Sair</button>
                    </h:form>
                </div>    
            </div>
            <div class="panel panel-body">
                <div class="row">                    
                    <div class="col-md-12">
                        <div class="col-md-4">
                            <a href="professor_material.xhtml"><img src="imagens/material.png"></img> Material de Aula</a>
                        </div>
                        <div class="col-md-4">
                            <a href="#" onclick="trelloInit()"><img src="imagens/certificado.png"></img> Atividades</a>
                        </div>
                        <div class="col-md-4">
                            <a href="forum.xhtml"><img src="imagens/forum-icon.png"></img> Fórum</a>
                        </div>
                    </div>
                </div>    
            </div>
        </div>
    </h:body>
</html>

